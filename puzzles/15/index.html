<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="15パズル（スライドパズル）。3×3/4×4対応。自己ベスト（時間/手数）を記録。">
  <title>15パズル | Reflex Quiz Arena</title>
  <link rel="stylesheet" href="/assets/style.css" />
  <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml" />

  <link rel="manifest" href="/manifest.webmanifest" />
  <meta name="theme-color" content="#0ea5e9" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <link rel="apple-touch-icon" href="/assets/icons/icon-192.png" />
</head>
<body>
  <div class="wrap">
    <nav class="nav">
      <a class="brand" href="/"><span class="brandMark">RQA</span><span class="brandText">Reflex Quiz Arena</span></a>
      <div class="navLinks">
        <a href="/play/">遊ぶ</a>
        <a href="/rules/">ルール</a>
        <a href="/mode/free/">フリー対戦</a>
        <a href="/mode/rated/">レート対戦</a>
        <a href="/faq/">FAQ</a>
        <a href="/story/">ストーリー</a>
        <a href="/puzzles/">パズル</a>
        <a href="/settings/">設定</a>
        <a href="/changelog/">更新履歴</a>
        <a href="/stats/">戦績</a>
      </div>
    </nav>

    <main class="main">

      <div class="hero">
        <h1 class="h1">15パズル</h1>
        <p class="p">空白に隣の数字をスライドして、<b>1→15</b>の順に揃えるパズルです。<b>同じ盤面を配れば対戦にも落とし込める</b>ので、まずはソロで操作感を固めます。</p>
        <div class="btnRow">
          <a class="btn ghost" href="/puzzles/">パズル一覧へ</a>
          <a class="btn" href="/play/">クイズへ</a>
        </div>
      </div>

      <section class="card">
        <div class="puzzleTop">
          <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center">
            <button id="modePractice" class="btn primary" type="button">練習</button>
            <button id="modeStory" class="btn ghost" type="button">ストーリー</button>
            <div class="small muted">※同点時は「手数 → 時間」で判定すると公平です</div>
          </div>

          <div class="puzzleStats">
            <div class="statPill"><span class="label">手数</span><span id="moveVal" class="val">0</span></div>
            <div class="statPill"><span class="label">時間</span><span id="timeVal" class="val">0:00</span></div>
          </div>
        </div>

        <div id="practicePanel" style="margin-top:12px">
          <div class="row" style="gap:10px;align-items:center;flex-wrap:wrap">
            <div>
              <div class="small muted">サイズ</div>
              <select id="sizeSel" class="input" style="max-width:180px">
                <option value="3">3×3（入門）</option>
                <option value="4" selected>4×4（通常）</option>
              </select>
            </div>
            <div style="flex:1"></div>
            <button id="btnShuffle" class="btn" type="button">シャッフル</button>
            <button id="btnResetBest" class="btn" type="button">自己ベスト初期化</button>
          </div>

          <div class="hr"></div>
<div class="hr"></div>

          <div class="grid grid2">
            <div class="card">
              <div class="h2">自己ベスト（3×3）</div>
              <div id="best3" class="p">—</div>
            </div>
            <div class="card">
              <div class="h2">自己ベスト（4×4）</div>
              <div id="best4" class="p">—</div>
            </div>
          </div>
        </div>

        <div id="storyPanel" style="margin-top:12px;display:none">
          <div class="p">ステージを順にクリアしていくモードです（軽め）。進行はこの端末に保存されます。</div>
          <div id="stageList" style="margin-top:8px"></div>
          <div class="hr"></div>
          <div class="btnRow">
            <button id="resetStory" class="btn" type="button">ストーリー進行リセット</button>
          </div>
        </div>

        <div class="hr"></div>

        <div id="board" class="puzzleBoard" aria-label="15パズル盤面"></div>

        <div class="small muted" style="margin-top:10px;text-align:center">
          操作：タイルをタップ/クリック（PCは矢印キーもOK）
        </div>

        <div class="hr"></div>
        <div id="status" class="small muted">開始するには、タイルを動かしてください。</div>
      </section>

      <div class="grid" style="margin-top:12px">
        <div class="adSlot"><b>広告スロット（説明ページ側）</b><br><span class="small">ゲーム操作の近くには置かない前提です。</span></div>
      </div>

    </main>

    <footer class="footer">
      <div class="footerGrid">
        <div>
          <div class="footerTitle">Reflex Quiz Arena</div>
          <div class="muted">反射 × 脳トレ（計算・記憶・論理） 4人10問スコアバトル</div>
        </div>
        <div class="footerLinks">
          <a href="/privacy/">プライバシーポリシー</a>
          <a href="/contact/">お問い合わせ</a>
        </div>
      </div>
      <div class="tiny muted">© 2026 Reflex Quiz Arena</div>
    </footer>
  </div>

  <script src="/assets/config.js"></script>
  <script src="/assets/puzzle15.js"></script>
  <script defer src="/assets/pwa.js"></script>
</body>
</html>
